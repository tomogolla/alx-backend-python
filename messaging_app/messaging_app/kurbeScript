#!/bin/bash
# A script to start and verify a local Kubernetes cluster using Minikube.

echo "### KubeScript Starting ###"

# Check if Minikube is installed
if ! command -v minikube &> /dev/null
then
    echo "Minikube could not be found. Please install it first."
    exit 1
fi

# Start the Minikube cluster
echo "Starting Minikube cluster..."
minikube start
if [ $? -ne 0 ]; then
    echo "Error starting Minikube. Please check your installation."
    exit 1
fi
echo "Minikube started successfully."

# Verify the cluster status
echo "Verifying cluster status..."
kubectl cluster-info
echo "Cluster is running."

# Retrieve all available pods
echo "Retrieving available pods in all namespaces..."
kubectl get pods --all-namespaces

echo "### KubeScript Finished ###"