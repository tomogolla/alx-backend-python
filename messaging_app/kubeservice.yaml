# The service that routes traffic to one of the versions
apiVersion: v1
kind: Service
metadata:
  name: django-app-service
spec:
  type: ClusterIP
  selector:
    # IMPORTANT: This selector initially points traffic to the 'blue' version.
    # The scripts in tasks 4 and 5 rely on this service to find the pods.
    app: django-messaging-app
    version: blue
  ports:
    - protocol: TCP
      port: 80       # The port the service exposes.
      targetPort: 8000 # The port the application container listens on.